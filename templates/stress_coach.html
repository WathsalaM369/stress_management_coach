<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stress Management Coach - AI Task Scheduler</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/stress_coach.css') }}">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Stress Management Coach</h1>
            <p>AI-powered stress analysis and adaptive task scheduling</p>
        </div>

        <div class="card">
            <h2>Quick Stress Check & Schedule</h2>
            
            <div class="form-group">
                <label>How are you feeling today? Describe your current situation:</label>
                <textarea id="userText" class="form-control" 
                         placeholder="e.g., I'm feeling overwhelmed with deadlines, had a rough morning, feeling anxious about presentations..."></textarea>
            </div>

            <div class="form-group">
                <label>Or set your stress level directly (1-10):</label>
                <input type="range" min="1" max="10" value="5" id="stressLevel" class="form-control">
                <div id="stressDisplay" class="stress-display">Stress Level: 5/10</div>
            </div>

            <div class="row">
                <div class="col">
                    <div class="form-group">
                        <label>Current Mood:</label>
                        <div class="mood-selector">
                            <div class="mood-option active" data-mood="focused">Focused</div>
                            <div class="mood-option" data-mood="tired">Tired</div>
                            <div class="mood-option" data-mood="energetic">Energetic</div>
                            <div class="mood-option" data-mood="scattered">Scattered</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="form-group">
                <label>Tasks (one per line):</label>
                <textarea id="tasksInput" class="form-control" 
                         placeholder="Write presentation slides&#10;Review project proposal&#10;Call client about meeting&#10;Prepare for team standup"></textarea>
            </div>

            <div class="form-group">
                <label>Available Time Slots (format: 09:00-11:00 Morning work):</label>
                <textarea id="timeSlots" class="form-control" 
                         placeholder="09:00-11:00 Morning work&#10;14:00-16:00 Afternoon focus&#10;16:30-17:30 Calls and emails"></textarea>
            </div>

            <div class="button-group">
                <button class="btn btn-primary" onclick="analyzeAndSchedule()">
                    Analyze Stress & Create Schedule
                </button>
                <button class="btn btn-secondary" onclick="clearAll()">Clear All</button>
            </div>
        </div>

        <div id="loading" class="loading">
            <div class="spinner">‚ü≥</div>
            <div>Analyzing your stress and creating optimized schedule...</div>
        </div>

        <div id="results" class="results">
            <div class="card">
                <h2>Your Personalized Schedule</h2>
                
                <div id="stressAnalysis" class="analysis-card">
                    <h3>Stress Analysis</h3>
                    <div id="stressResults"></div>
                </div>

                <div id="scheduleResults">
                    <h3>Recommended Schedule</h3>
                    <div id="scheduleItems"></div>
                </div>

                <div id="recommendations" class="recommendations-card">
                    <h3>Recommendations</h3>
                    <div id="recommendationsList"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Messages container -->
    <div id="messages"></div>

    <script src="{{ url_for('static', filename='js/stress_coach.js') }}"></script>
</body>
</html>